## 与`Activiti`的对比

`流程定义`是`工作流引擎`的灵魂，一个合理的`流程定义`规范，既要考虑使用的便利性，又要考虑功能特性的可扩展性

`Activiti`无疑是Java语言领域工作流引擎的标杆，依据`BPMN2.0`规范采用`XML`格式来定义工作流

### 1. JAVA + BPMN + XML
`BPMN + XML`的优点是标准统一，与`JAVA`语言的开发调性相匹配。当然，缺点是`繁琐`，如果脱离了`图形化编辑工具`，采用手写XML定义，非常不便利

### 2. JS + 类BPMN + JSON

CabloyJS经过反复的评估与权衡，决定仍然参考`BPMN规范`的特性集，但是采用`JSON`格式进行定义。虽然属于自定义格式，但符合`JS`语言的调性，优点是`简约、易写、易读`，同样具备优秀的`可迁移性`

## 流程定义

CabloyJS通过`原子`的概念对所有业务数据进行抽象，并提供了丰富的特性和管理页面。因此，`流程定义`也是一个原子类型。我们可以像一般的原子数据一样，对`流程定义`进行管理

对于`原子`数据而言，既可以通过管理页面动态创建`流程定义`，也可以通过`静态原子`的方式创建`流程定义`。在系统启动时，会自动读取`静态原子`，并写入数据库

- 相关文章
  - [原子基本概念](https://cabloy.com/zh-cn/articles/atom-basic.html)
  - [静态原子](https://cabloy.com/zh-cn/articles/atom-static.html)
  - [演示：CMS审批工作流](https://cabloy.com/zh-cn/articles/ddda3ea8638d4d2b88fb57df7ed67107.html#)

## 流程部署

当创建`流程定义`并入库后，系统会自动对流程定义进行部署

## 启用/禁用

可以通过`管理界面`和`API`两种方式`启用/禁用`流程定义

## 副产品：版本控制

当启动一个`流程实例`，还未结束时，`流程定义`可以再次编辑。那么，运行中的`流程实例`仍然引用启动时的版本，从而保持流程的一致性

这是采用`原子`概念的副产品，因为原子本身就具备`草稿->正式->历史`的`生命周期管理`，采用`atomStaticKey + atomRevision`的组合可以唯一引用一个历史版本的原子数据

## 副产品：流程定义的审批工作流

由于可以给`原子`数据附加审批工作流，而`流程定义`本身也是`原子`，因此，我们也可以给`流程定义`附加审批工作流，让`流程定义`的管理也更加可控、可追溯。因此，这个特性也是采用`原子`概念的副产品

## 更多副产品

采用`原子`的概念来管理`流程定义`带来的副产品还有很多，比如我们可以对`流程定义`进行`分类管理`。这一切都源于`原子`特性的丰富和功能的强大，请参见：[原子基本概念](https://cabloy.com/zh-cn/articles/atom-basic.html)
